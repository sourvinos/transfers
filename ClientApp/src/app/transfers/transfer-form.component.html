<div id="header">
    <div>
        <h2>Transfer</h2>
        <p>{{ form.value | json }} {{ form.valid }}</p>
        <div id="close" [routerLink]="['/transfers']">X</div>
    </div>
    <div class="ui divider"></div>
</div>

<div id="content">
    <form [formGroup]='form' class="ui form" autocomplete='off'>
        <div id="left">
            <div class="field">
                <label>Date</label>
                <input type="text" formControlName='dateInput' (change)='updateISODate()'>
            </div>
            <div class="field">
                <label>Customer</label>
                <input type="text" list="customerList" formControlName='customerDescription' (change)="updateCustomerId(customers, $event)">
                <datalist id="customerList">
                    <select>
                        <option *ngFor='let customer of customers' [value]="customer.description"></option>
                    </select>
                </datalist>
            </div>
            <div class="field">
                <label>Destination</label>
                <input type="text" list="destinationList" formControlName='destinationDescription' (change)="updateDestinationId(destinations, $event)">
                <datalist id="destinationList">
                    <select>
                        <option *ngFor='let destination of destinations' [value]="destination.description"></option>
                    </select>
                </datalist>
            </div>
            <div class="field">
                <label>Pickup point</label>
                <input type="text" list="pickupPointList" formControlName='pickupPointDescription' (change)="updatePickupPointId(pickupPoints, $event)">
                <datalist id="pickupPointList">
                    <select>
                        <option *ngFor='let pickupPoint of pickupPoints' [value]="pickupPoint.description"></option>
                    </select>
                </datalist>
            </div>
            <div class="field">
                <label>Transfer type</label>
                <input type="text" list="transferTypeList" formControlName='transferTypeDescription' (change)="updateTransferTypeId(transferTypes, $event)">
                <datalist id="TransferTypeList">
                    <select>
                        <option *ngFor='let transferType of transferTypes' [value]="transferType.description"></option>
                    </select>
                </datalist>
            </div>
            <div class="field">
                <label>Adults</label>
                <input type="text" formControlName="adults">
            </div>
            <div class="field">
                <label>Kids</label>
                <input type="text" formControlName="kids">
            </div>
            <div class="field">
                <label>Free</label>
                <input type="text" formControlName="free">
            </div>
        </div>
        <div id="right">
        </div>
    </form>
</div>

<div id="footer">
    <div class="ui divider"></div>
    <div id="buttons">
        <button class="ui button secondary" (click)="delete()" [hidden]="!form.value.id">Delete</button>
        <button class="ui button solid" (click)="save()" [disabled]="!form.valid">Save</button>
    </div>
</div>