<div id="header">
    <div>
        <i class="big arrow alternate circle left outline icon navigation-icon" [routerLink]="['/customers']"></i>
        <h2>Customer</h2>
    </div>
    <!-- <p>{{ form.value | json }} {{ form.valid }}</p> -->
    <!-- <p>{{ form.dirty }}</p> -->
    <div class="ui divider"></div>
</div>

<div id="content">
    <form [formGroup]="form" class="ui form" autocomplete="off">
        <div id="left">
            <div class="field">
                <label for="description">Description</label>
                <div class="input">
                    <i *ngIf="description.invalid" class="red exclamation triangle icon"></i>
                    <input type="text" formControlName="description" tabindex="1" id="description">
                </div>
            </div>
            <div class="field">
                <label for="profession">Profession</label>
                <div class="input">
                    <i *ngIf="profession.invalid" class="red exclamation triangle icon"></i>
                    <input type="text" formControlName="profession" tabindex="2" id="profession">
                </div>
            </div>
            <div class="field">
                <label for="address">Address</label>
                <div class="input">
                    <i *ngIf="address.invalid" class="red exclamation triangle icon"></i>
                    <input type="text" formControlName="address" tabindex="3" id="address">
                </div>
            </div>
            <div class="field">
                <label for="phones">Phones</label>
                <div class="input">
                    <i *ngIf="phones.invalid" class="red exclamation triangle icon"></i>
                    <input type="text" formControlName="phones" tabindex="4" id="phones">
                </div>
            </div>
            <div class="field">
                <label for="personInCharge">Person in charge</label>
                <div class="input">
                    <i *ngIf="personInCharge.invalid" class="red exclamation triangle icon"></i>
                    <input type="text" formControlName="personInCharge" tabindex="5" id="personInCharge">
                </div>
            </div>
        </div>
        <div id="right">
            <div class="field">
                <label for="email">Email</label>
                <div class="input">
                    <i *ngIf="email.invalid" class="red exclamation triangle icon"></i>
                    <input type="text" formControlName="email" tabindex="6" id="email">
                </div>
            </div>
            <div class="field">
                <label for="taxNo">Tax number</label>
                <div class="input">
                    <i *ngIf="taxNo.invalid" class="red exclamation triangle icon"></i>
                    <input type="text" formControlName="taxNo" tabindex="7" id="taxNo">
                </div>
            </div>
            <div class="field">
                <label for="accountCode">Account code</label>
                <div class="input">
                    <i *ngIf="accountCode.invalid" class="red exclamation triangle icon"></i>
                    <input type="text" formControlName="accountCode" tabindex="8" id="accountCode">
                </div>
            </div>
            <div class="field">
                <label for="taxOffice">Tax office</label>
                <div class="input">
                    <input type="text" list="taxOfficeList" formControlName="taxOfficeDescription" (change)="updateTaxOfficeId(taxOffices, $event)" tabindex="9" id="taxOffice">
                    <i *ngIf="(taxOfficeId.invalid && taxOfficeDescription.invalid) || (!arrayLookup(taxOffices, taxOfficeDescription))" class="red exclamation triangle icon"></i>
                    <datalist id="taxOfficeList">
                        <select>
                            <option *ngFor="let taxOffice of taxOffices" [value]="taxOffice.description"></option>
                        </select>
                    </datalist>
                </div>
            </div>
            <div class="field">
                <label for="vatState">VAT regime</label>
                <div class="input">
                    <input type="text" list="vatStateList" formControlName="vatStateDescription" (change)="updateVatStateId(vatStates, $event)" tabindex="10" id="vatState">
                    <i *ngIf="(vatStateId.invalid && vatStateDescription.invalid) || (!arrayLookup(vatStates, vatStateDescription))" class="red exclamation triangle icon"></i>
                    <datalist id="vatStateList">
                        <select>
                            <option *ngFor="let vatState of vatStates" [value]="vatState.description"></option>
                        </select>
                    </datalist>
                </div>
            </div>
        </div>
    </form>
</div>

<div id="footer">
    <div class="ui divider"></div>
    <div id="buttons">
        <button class="ui button delete" (click)="delete()" [hidden]="!form.value.id">Delete</button>
        <button class="ui button primary" (click)="save()">Save</button>
    </div>
</div>